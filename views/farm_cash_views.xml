<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Kassa Hərəkatı list View -->
        <record id="view_farm_cash_flow_list" model="ir.ui.view">
            <field name="name">farm.cash.flow.list</field>
            <field name="model">farm.cash.flow</field>
            <field name="arch" type="xml">
                <list string="Kassa Hərəkatı" decoration-success="transaction_type in ('income', 'subsidy', 'debt')" decoration-danger="transaction_type=='expense'">
                    <field name="date"/>
                    <field name="name"/>
                    <field name="transaction_type"/>
                    <field name="amount" sum="Cəm"/>
                    <field name="reference"/>
                </list>
            </field>
        </record>

        <!-- Kassa Hərəkatı Form View -->
        <record id="view_farm_cash_flow_form" model="ir.ui.view">
            <field name="name">farm.cash.flow.form</field>
            <field name="model">farm.cash.flow</field>
            <field name="arch" type="xml">
                <form string="Kassa Hərəkatı">
                    <sheet>
                        <group>
                            <group>
                                <field name="name"/>
                                <field name="date"/>
                                <field name="transaction_type"/>
                            </group>
                            <group>
                                <field name="amount"/>
                                <field name="reference"/>
                            </group>
                        </group>
                        <group>
                            <field name="note" placeholder="Əlavə qeydlər..."/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Kassa Hərəkatı Action -->
        <record id="action_farm_cash_flow" model="ir.actions.act_window">
            <field name="name">Kassa Hərəkatı</field>
            <field name="res_model">farm.cash.flow</field>
            <field name="view_mode">list,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Kassa hərəkatı əlavə edin
                </p>
                <p>
                    <strong>4 növ əməliyyat mövcuddur:</strong><br/>
                    • <strong>Mədaxil:</strong> Ümumi gəlir qeydləri<br/>
                    • <strong>Məxaric:</strong> Ümumi xərc qeydləri<br/>
                    • <strong>Subsidiya:</strong> Dövlət subsidiyaları<br/>
                    • <strong>Borc:</strong> Alınan borc və kreditlər
                </p>
            </field>
        </record>

        <!-- Kassa Balans Form View -->
        <record id="view_farm_cash_balance_form" model="ir.ui.view">
            <field name="name">farm.cash.balance.form</field>
            <field name="model">farm.cash.balance</field>
            <field name="arch" type="xml">
                <form string="Kassa Balansı" create="false" edit="false" delete="false">
                    <sheet>
                        <div class="oe_title">
                            <h3>Cari Balans</h3>
                            <h1>
                                <field name="current_balance" readonly="1" 
                                       decoration-success="current_balance >= 0" 
                                       decoration-danger="current_balance &lt; 0"/>
                                <span> AZN</span>
                            </h1>
                        </div>
                        <group>
                            <group string="Gəlir Hissəsi">
                                <field name="subsidy_income" string="Subsidiya" readonly="1"/>
                                <field name="debt_income" string="Borc" readonly="1"/>
                                <field name="founder_investments_total" string="Təsisçi İnvestisiyası" readonly="1"/>
                                <field name="tractor_income_total" string="Traktor Gəliri" readonly="1"/>
                                <field name="other_income" string="Mədaxil" readonly="1"/>
                                <field name="total_income" string="Ümumi Gəlir" readonly="1"/>
                            </group>
                        
                            <group string="Xərc Hissəsi">
                                <field name="cash_expense_only" string="Məxaric" readonly="1"/>
                                <field name="founder_expenses_total" string="Təsisçi Məxarici" readonly="1"/>
                                <field name="expense_report_total" string="Bağ Xərcləri" readonly="1"/>
                                <field name="all_expenses_total" string="Ümumi Xərc" readonly="1"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Təsisçi List View -->
        <record id="view_farm_founder_list" model="ir.ui.view">
            <field name="name">farm.founder.list</field>
            <field name="model">farm.founder</field>
            <field name="arch" type="xml">
                <list string="Təsisçilər">
                    <field name="name"/>
                    <field name="current_investment"/>
                    <field name="current_expense"/>
                    <field name="available_balance"/>
                    <field name="active"/>
                </list>
            </field>
        </record>

        <!-- Təsisçi Form View -->
        <record id="view_farm_founder_form" model="ir.ui.view">
            <field name="name">farm.founder.form</field>
            <field name="model">farm.founder</field>
            <field name="arch" type="xml">
                <form string="Təsisçi">
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="toggle_active" type="object" 
                                    class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button" 
                                       options='{"terminology": "active"}'/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1>
                                <field name="name" placeholder="Təsisçi Adı"/>
                            </h1>
                        </div>
                        <group>
                            <group string="Cari Vəziyyət">
                                <field name="current_investment" readonly="1"/>
                                <field name="current_expense" readonly="1"/>
                                <field name="available_balance" readonly="1"/>
                            </group>
                        </group>
                        
                        <notebook>
                            <page string="İnvestisiya Qeydləri">
                                <field name="investment_records">
                                    <list editable="bottom">
                                        <field name="date"/>
                                        <field name="name"/>
                                        <field name="amount" sum="Cəm"/>
                                        <field name="reference"/>
                                    </list>
                                </field>
                            </page>
                            <page string="Xərc Qeydləri">
                                <field name="expense_records">
                                    <list editable="bottom">
                                        <field name="date"/>
                                        <field name="name"/>
                                        <field name="expense_type"/>
                                        <field name="amount" sum="Cəm"/>
                                        <field name="reference"/>
                                    </list>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Təsisçi Action -->
        <record id="action_farm_founder" model="ir.actions.act_window">
            <field name="name">Təsisçilər</field>
            <field name="res_model">farm.founder</field>
            <field name="view_mode">list,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Yeni təsisçi əlavə edin
                </p>
                <p>
                    Təsisçilər üçün borc limitlərini təyin edin və borc/investisiya qeydlərini aparın.
                </p>
            </field>
        </record>

        <!-- Təsisçi İnvestisiya Action -->
        <record id="action_farm_founder_investment" model="ir.actions.act_window">
            <field name="name">Təsisçi İnvestisiyaları</field>
            <field name="res_model">farm.founder.investment</field>
            <field name="view_mode">list,form</field>
        </record>

        <!-- Təsisçi İnvestisiya List View -->
        <record id="view_farm_founder_investment_list" model="ir.ui.view">
            <field name="name">farm.founder.investment.list</field>
            <field name="model">farm.founder.investment</field>
            <field name="arch" type="xml">
                <list string="Təsisçi İnvestisiyaları">
                    <field name="date"/>
                    <field name="founder_id"/>
                    <field name="name"/>
                    <field name="amount" sum="Cəm"/>
                    <field name="reference"/>
                </list>
            </field>
        </record>

        <!-- Təsisçi İnvestisiya Form View -->
        <record id="view_farm_founder_investment_form" model="ir.ui.view">
            <field name="name">farm.founder.investment.form</field>
            <field name="model">farm.founder.investment</field>
            <field name="arch" type="xml">
                <form string="Təsisçi İnvestisiyası">
                    <sheet>
                        <group>
                            <group>
                                <field name="founder_id"/>
                                <field name="name"/>
                                <field name="date"/>
                            </group>
                            <group>
                                <field name="amount"/>
                                <field name="reference"/>
                            </group>
                        </group>
                        <group>
                            <field name="note" placeholder="Əlavə qeydlər..."/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Təsisçi Xərc Action -->
        <record id="action_farm_founder_expense" model="ir.actions.act_window">
            <field name="name">Təsisçi Xərcləri</field>
            <field name="res_model">farm.founder.expense</field>
            <field name="view_mode">list,form</field>
        </record>

        <!-- Təsisçi Xərc List View -->
        <record id="view_farm_founder_expense_list" model="ir.ui.view">
            <field name="name">farm.founder.expense.list</field>
            <field name="model">farm.founder.expense</field>
            <field name="arch" type="xml">
                <list string="Təsisçi Xərcləri">
                    <field name="date"/>
                    <field name="founder_id"/>
                    <field name="name"/>
                    <field name="expense_type"/>
                    <field name="amount" sum="Cəm"/>
                    <field name="reference"/>
                </list>
            </field>
        </record>

        <!-- Təsisçi Xərc Form View -->
        <record id="view_farm_founder_expense_form" model="ir.ui.view">
            <field name="name">farm.founder.expense.form</field>
            <field name="model">farm.founder.expense</field>
            <field name="arch" type="xml">
                <form string="Təsisçi Xərci">
                    <sheet>
                        <group>
                            <group>
                                <field name="founder_id"/>
                                <field name="name"/>
                                <field name="date"/>
                                <field name="expense_type"/>
                            </group>
                            <group>
                                <field name="amount"/>
                                <field name="reference"/>
                            </group>
                        </group>
                        <group>
                            <field name="note" placeholder="Əlavə qeydlər..."/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Subsidiya Qeydi Action -->
        <record id="action_farm_subsidy" model="ir.actions.act_window">
            <field name="name">Subsidiya Qeydləri</field>
            <field name="res_model">farm.cash.flow</field>
            <field name="view_mode">list,form</field>
            <field name="domain">[('transaction_type', '=', 'subsidy')]</field>
            <field name="context">{'default_transaction_type': 'subsidy'}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Subsidiya qeydi əlavə edin
                </p>
                <p>
                    Bu bölmədən subsidiya qeydlərini əlavə edə və görə bilərsiniz.
                </p>
            </field>
        </record>

        <!-- Borc Qeydi Action -->
        <record id="action_farm_debt" model="ir.actions.act_window">
            <field name="name">Borc Qeydləri</field>
            <field name="res_model">farm.cash.flow</field>
            <field name="view_mode">list,form</field>
            <field name="domain">[('transaction_type', '=', 'debt')]</field>
            <field name="context">{'default_transaction_type': 'debt'}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Borc qeydi əlavə edin
                </p>
                <p>
                    Bu bölmədən borc qeydlərini əlavə edə və görə bilərsiniz.
                </p>
            </field>
        </record>

        <!-- Kassa Balans Action -->
        <record id="action_farm_cash_balance" model="ir.actions.act_window">
            <field name="name">Kassa Balansı</field>
            <field name="res_model">farm.cash.balance</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

    </data>
</odoo>
